<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About</title>
    <link rel="stylesheet" href="style.css" />
    <script src="script.js"></script>

    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
      }

      table {
        border-collapse: collapse;
      }

      td {
        padding: 8px;
        vertical-align: middle;
      }

      .form-label {
        font-weight: bold;
        width: 150px;
      }

      /* Allow dropdown overflow inside table */
      .quota-table td {
        position: relative;
        overflow: visible;
      }

      /* Dropdown container */
      .dropdown {
        position: relative;
        width: 220px;
        padding: 8px 30px 8px 12px;
        border: 1px solid #c7c7c7;
        background: #fff;
        cursor: pointer;
        user-select: none;
      }

      /* Dropdown arrow */
      .dropdown::after {
        content: "▾";
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        pointer-events: none;
        color: #666;
        font-size: 14px;
      }

      /* Dropdown menu */
      .dropdown-menu {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        border: 1px solid #c7c7c7;
        background: #fff;
        z-index: 9999;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      }

      /* Dropdown items */
      .dropdown-menu div {
        padding: 8px 12px;
        cursor: pointer;
      }

      .dropdown-menu div:hover {
        background-color: #f0f0f0;
      }
    </style>
  </head>
  <body>
    <div class="navbar">
      <ul>
        <li><a id="btn-home" href="home.html" onclick="Home()">Home</a></li>
        <li><a id="btn-about" href="#" onclick="About()">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="dropdown.html">Dropdown</a></li>
        <li><a href="form.html">Form</a></li>
        <li>
          <a id="logout" href="login.html" onclick="deleteAllCookies()"
            >Logout</a
          >
        </li>
      </ul>
    </div>
    <h3>
      SreeRamaPrasad General Store started serving the needs since 1996. We
      offer a wide range of fresh groceries.
    </h3>
    <div>
      <a
        href="https://support.gainsight.com/PX/Engagements/02_Test_Engagement_Configuration/05_Segments"
        target="_blank"
        >Segments PX</a
      >
    </div>
    <button class="test-btn" onclick="handleButtonClick()">AboutTest</button>
    <button id="btn-yes" onclick="handleYes()">Yes</button>
    <button id="btn-No" onclick="handleNo()">No</button>
    <button id="btn-both" onclick="handleBoth()">both</button>
    <button data-role="admin" id="adm" onclick="handleCustomEvent('admin')">
      Admin
    </button>
    <button data-role="manager" id="mgr" onclick="handleCustomEvent('manager')">
      Manager
    </button>
    <h2>
      <span data-gainsight="dnb-country-region-risk"
        >D & B Country Region Risk</span
      >
      <span data-gainsight="SalesAccelerationTrial-CountryRisk"></span>
    </h2>
    <div class="parent">
      Parent
      <div class="child">Child</div>
      <button onclick="handleMarket()">Test inside parent</button>
    </div>

    <div
      style="
        border: 2px solid black;
        display: flex;
        gap: 20px;
        padding: 20px;
        margin-top: 10px;
        margin-left: 2px;
      ">
      <div>
        <button id="agree">Agree</button>
      </div>
      <div>
        <button id="disagree">Disagree</button>
      </div>
      <div>
        <button id="neutral">Neutral</button>
      </div>
      <div>
        <button id="decided">Decided</button>
      </div>
      <div>
        <button id="query" onclick="handleQuery()">Query</button>
      </div>
    </div>
    <div
      style="
        border: 2px solid black;
        padding: 20px;
        margin-top: 10px;
        margin-left: 2px;
      ">
      <h2>Interest Value Storage</h2>
      <div style="margin-bottom: 15px">
        <label for="amount">Required Amount:</label>
        <input type="number" id="amount" placeholder="Enter amount" />
      </div>
      <div style="margin-bottom: 15px">
        <label for="interest">Interest Value:</label>
        <input type="number" id="interest" placeholder="Enter interest value" />
      </div>
      <button id="btn-send" onclick="storeValues()">Store Values</button>
    </div>
    <div
      style="
        border: 2px solid black;
        padding: 20px;
        margin-top: 10px;
        margin-left: 2px;
      ">
      <button id="employeeButton" onclick="setGlobalContext('employee')">
        Employee GlobalContext
      </button>
      <button id="employerButton" onclick="setGlobalContext('employer')">
        Employer GlobalContext
      </button>
    </div>
    <h2>
      <span data-gainsight="dnb-country-region-risk1"
        >D & B Country Region Risk Button</span
      >
      <span data-gainsight="SalesAccelerationTrial-CountryRisk1"></span>
      <button>span sibling button</button>
    </h2>
    <button id="check">Check</button>
    <select name="companies" id="companies">
      <option value="google">Google</option>
      <option value="infosys">Infosys</option>
      <option value="gainsight">Gainsight</option>
      <option value="tcs">TCS</option>
      <option value="microsoft">Microsoft</option>
    </select>
    <br /><br />
    <div class="GenericToolbarIcon" title="Delete activity" id="ui-id-19">
      <svg
        viewBox="0 0 200 200"
        width="100"
        height="100"
        xmlns="http://www.w3.org/2000/svg">
        <image width="100" height="100" href="JEMA GER 1635-05 copy.jpg" />
      </svg>
    </div>
    <div>
      <h2>Quota Configuration</h2>

      <table class="quota-table">
        <!-- DROPDOWN ROW -->
        <tr>
          <td class="form-label">Quota time:</td>
          <td>
            <div class="dropdown" id="quotaDropdown">
              <span id="selectedQuotaText">Daily quota</span>
              <div class="dropdown-menu" id="quotaDropdownMenu">
                <div data-type="daily">Daily quota</div>
                <div data-type="perCategory">Per category quota</div>
              </div>
            </div>
          </td>
        </tr>

        <!-- DAILY QUOTA ROWS -->
        <tr class="daily-quota">
          <td class="form-label">Daily limit:</td>
          <td>
            <input type="text" id="dailyQuotaDailyLimit" value="60" /> minutes
          </td>
        </tr>

        <tr class="daily-quota">
          <td class="form-label">Session length:</td>
          <td>
            <input type="text" id="dailyQuotaSessionLimit" value="10" /> minutes
          </td>
        </tr>

        <!-- PER CATEGORY QUOTA ROWS -->
        <tr class="per-category-quota" style="display: none">
          <td class="form-label">Daily limit:</td>
          <td>
            <input type="text" id="perCategoryDailyLimit" value="60" /> minutes
          </td>
        </tr>

        <tr class="per-category-quota" style="display: none">
          <td class="form-label">Session length:</td>
          <td>
            <input type="text" id="perCategorySessionLimit" value="10" />
            minutes
          </td>
        </tr>
      </table>

      <!-- ✅ JAVASCRIPT -->
      <script>
        document.addEventListener("DOMContentLoaded", function () {
          const dropdown = document.getElementById("quotaDropdown");
          const menu = document.getElementById("quotaDropdownMenu");
          const selectedText = document.getElementById("selectedQuotaText");

          const dailyRows = document.querySelectorAll("tr.daily-quota");
          const perCategoryRows = document.querySelectorAll(
            "tr.per-category-quota"
          );

          // Toggle dropdown open/close
          dropdown.addEventListener("click", function (e) {
            e.stopPropagation();
            menu.style.display =
              menu.style.display === "block" ? "none" : "block";
          });

          // Handle dropdown option click
          menu.querySelectorAll("div").forEach((item) => {
            item.addEventListener("click", function (e) {
              e.stopPropagation();

              const type = this.dataset.type;
              selectedText.textContent = this.textContent;
              menu.style.display = "none";

              if (type === "daily") {
                dailyRows.forEach((row) => (row.style.display = "table-row"));
                perCategoryRows.forEach((row) => (row.style.display = "none"));
              } else {
                dailyRows.forEach((row) => (row.style.display = "none"));
                perCategoryRows.forEach(
                  (row) => (row.style.display = "table-row")
                );
              }
            });
          });

          // Close dropdown when clicking outside
          document.addEventListener("click", function () {
            menu.style.display = "none";
          });
        });
      </script>
    </div>
  </body>
</html>
